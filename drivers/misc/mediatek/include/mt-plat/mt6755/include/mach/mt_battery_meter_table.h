/*
 * Copyright (C) 2015 MediaTek Inc.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 */

#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H


/* ============================================================
// define
// ============================================================*/
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             24000
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900
#endif

#define RBAT_PULL_UP_VOLT          1800



/* ============================================================
// ENUM
// ============================================================*/

/* ============================================================
// structure
// ============================================================*/

/* ============================================================
// typedef
// ============================================================*/
typedef struct _BATTERY_PROFILE_STRUCT {
	signed int percentage;
	signed int voltage;
	} BATTERY_PROFILE_STRUCT, *BATTERY_PROFILE_STRUCT_P;

typedef struct _R_PROFILE_STRUCT {
	signed int resistance; /* Ohm*/
	signed int voltage;
} R_PROFILE_STRUCT, *R_PROFILE_STRUCT_P;

typedef enum {
	T1_0C,
	T2_25C,
	T3_50C
} PROFILE_TEMPERATURE;

/* ============================================================
// External Variables
// ============================================================*/

/* ============================================================
// External function
// ============================================================*/

/* ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================*/
#if (BAT_NTC_10 == 1)
BATT_TEMPERATURE Batt_Temperature_Table[] = {
	{-20, 68237},
	{-15, 53650},
	{-10, 42506},
	{ -5, 33892},
	{  0, 27219},
	{  5, 22021},
	{ 10, 17926},
	{ 15, 14674},
	{ 20, 12081},
	{ 25, 10000},
	{ 30, 8315},
	{ 35, 6948},
	{ 40, 5834},
	{ 45, 4917},
	{ 50, 4161},
	{ 55, 3535},
	{ 60, 3014}
};
#endif

#if (BAT_NTC_47 == 1)
BATT_TEMPERATURE Batt_Temperature_Table[] = {
	{-20, 483954},
	{-15, 360850},
	{-10, 271697},
	{ -5, 206463},
	{  0, 158214},
	{  5, 122259},
	{ 10, 95227},
	{ 15, 74730},
	{ 20, 59065},
	{ 25, 47000},
	{ 30, 37643},
	{ 35, 30334},
	{ 40, 24591},
	{ 45, 20048},
	{ 50, 16433},
	{ 55, 13539},
	{ 60, 11210}
};
#endif

/* T0 -10C */
BATTERY_PROFILE_STRUCT battery_profile_t0[] = 
{
	{0,4382},
	{7,4346},
	{10,4316},
	{17,4290},
	{23,4266},
	{27,4244},
	{33,4222},
	{40,4202},
	{43,4183},
	{50,4164},
	{57,4145},
	{60,4126},
	{67,4111},
	{73,4098},
	{77,4081},
	{83,4055},
	{90,4023},
	{93,3996},
	{100,3974},
	{100,3956},
	{100,3942},
	{100,3930},
	{100,3919},
	{100,3906},
	{100,3894},
	{100,3882},
	{100,3871},
	{100,3861},
	{100,3852},
	{100,3842},
	{100,3834},
	{100,3827},
	{100,3819},
	{100,3813},
	{100,3807},
	{100,3803},
	{100,3800},
	{100,3797},
	{100,3794},
	{100,3792},
	{100,3788},
	{100,3785},
	{100,3782},
	{100,3777},
	{100,3773},
	{100,3767},
	{100,3761},
	{100,3754},
	{100,3746},
	{100,3737},
	{100,3728},
	{100,3721},
	{100,3714},
	{100,3708},
	{100,3701},
	{100,3692},
	{100,3677},
	{100,3650},
	{100,3599},
	{100,3514},
	{100,3359}
};



/* T1 0C */
BATTERY_PROFILE_STRUCT battery_profile_t1[] = 
{
	{0,4384},
	{3,4346},
	{4,4322},
	{7,4300},
	{9,4280},
	{11,4260},
	{13,4241},
	{16,4222},
	{17,4204},
	{20,4187},
	{22,4170},
	{25,4152},
	{26,4136},
	{29,4118},
	{32,4101},
	{33,4090},
	{36,4077},
	{38,4058},
	{39,4028},
	{42,3998},
	{45,3974},
	{46,3955},
	{49,3941},
	{51,3929},
	{53,3917},
	{55,3905},
	{58,3893},
	{59,3881},
	{62,3871},
	{64,3860},
	{67,3852},
	{68,3842},
	{71,3834},
	{74,3827},
	{75,3820},
	{78,3813},
	{80,3807},
	{82,3801},
	{84,3796},
	{87,3792},
	{88,3788},
	{91,3785},
	{93,3782},
	{95,3780},
	{97,3777},
	{100,3773},
	{100,3767},
	{100,3761},
	{100,3752},
	{100,3741},
	{100,3728},
	{100,3717},
	{100,3708},
	{100,3703},
	{100,3699},
	{100,3695},
	{100,3684},
	{100,3653},
	{100,3590},
	{100,3481},
	{100,3279}
};



/* T2 25C*/
BATTERY_PROFILE_STRUCT battery_profile_t2[] = 
{
	{0,4385},
	{3,4364},
	{5,4345},
	{7,4327},
	{8,4307},
	{10,4288},
	{12,4269},
	{13,4250},
	{15,4231},
	{17,4213},
	{18,4195},
	{20,4176},
	{22,4159},
	{23,4141},
	{26,4123},
	{28,4105},
	{29,4089},
	{31,4076},
	{33,4066},
	{34,4043},
	{36,4014},
	{38,3994},
	{39,3982},
	{41,3974},
	{43,3962},
	{44,3946},
	{46,3928},
	{48,3909},
	{49,3893},
	{51,3879},
	{53,3868},
	{54,3858},
	{56,3849},
	{58,3840},
	{59,3832},
	{61,3826},
	{63,3819},
	{64,3813},
	{66,3806},
	{68,3801},
	{69,3796},
	{71,3792},
	{73,3787},
	{74,3782},
	{77,3777},
	{79,3773},
	{80,3767},
	{82,3761},
	{84,3753},
	{85,3746},
	{87,3734},
	{88,3720},
	{90,3703},
	{92,3697},
	{93,3694},
	{95,3693},
	{97,3691},
	{98,3686},
	{100,3645},
	{100,3563},
	{100,3433}
};



/* T3 50C*/
BATTERY_PROFILE_STRUCT battery_profile_t3[] = 
{
	{0,4381},
	{3,4342},
	{5,4324},
	{7,4306},
	{8,4286},
	{10,4268},
	{12,4249},
	{14,4230},
	{15,4211},
	{17,4193},
	{19,4174},
	{20,4156},
	{22,4138},
	{24,4120},
	{26,4103},
	{28,4086},
	{30,4069},
	{31,4053},
	{33,4037},
	{35,4022},
	{37,4007},
	{38,3992},
	{40,3978},
	{42,3964},
	{43,3950},
	{45,3933},
	{47,3913},
	{48,3894},
	{50,3880},
	{52,3868},
	{54,3858},
	{55,3849},
	{57,3841},
	{59,3833},
	{60,3826},
	{62,3819},
	{64,3812},
	{65,3806},
	{67,3801},
	{69,3795},
	{70,3789},
	{72,3782},
	{74,3773},
	{77,3764},
	{78,3757},
	{80,3751},
	{82,3743},
	{83,3734},
	{85,3728},
	{87,3717},
	{88,3703},
	{90,3686},
	{92,3681},
	{93,3680},
	{95,3679},
	{97,3676},
	{99,3667},
	{100,3619},
	{100,3535},
	{100,3407},
	{100,3167}
};



/* battery profile for actual temperature. The size should be the same as T1, T2 and T3*/
BATTERY_PROFILE_STRUCT battery_profile_temperature[] = {
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0}
};

/* ============================================================
// <Rbat, Battery_Voltage> Table
// ============================================================*/
/* T0 -10C*/
R_PROFILE_STRUCT r_profile_t0[] = {
	{1129,4382},
	{1129,4346},
	{1116,4316},
	{1101,4290},
	{1085,4266},
	{1074,4244},
	{1060,4222},
	{1050,4202},
	{1040,4183},
	{1032,4164},
	{1022,4145},
	{1014,4126},
	{1012,4111},
	{1023,4098},
	{1026,4081},
	{1003,4055},
	{967,4023},
	{935,3996},
	{919,3974},
	{907,3956},
	{907,3942},
	{909,3930},
	{912,3919},
	{908,3906},
	{907,3894},
	{908,3882},
	{907,3871},
	{911,3861},
	{915,3852},
	{919,3842},
	{921,3834},
	{925,3827},
	{933,3819},
	{938,3813},
	{946,3807},
	{961,3803},
	{972,3800},
	{991,3797},
	{1011,3794},
	{1036,3792},
	{1060,3788},
	{1090,3785},
	{1122,3782},
	{1156,3777},
	{1195,3773},
	{1236,3767},
	{1277,3761},
	{1321,3754},
	{1370,3746},
	{1421,3737},
	{1474,3728},
	{1525,3721},
	{1581,3714},
	{1640,3708},
	{1696,3701},
	{1755,3692},
	{1812,3677},
	{1868,3650},
	{1928,3599},
	{2011,3514},
	{2155,3359}
};

/* T1 0C*/
R_PROFILE_STRUCT r_profile_t1[] = {
	{581,4384},
	{581,4346},
	{573,4322},
	{564,4300},
	{557,4280},
	{549,4260},
	{541,4241},
	{532,4222},
	{528,4204},
	{524,4187},
	{524,4170},
	{519,4152},
	{518,4136},
	{513,4118},
	{510,4101},
	{527,4090},
	{546,4077},
	{543,4058},
	{514,4028},
	{485,3998},
	{468,3974},
	{451,3955},
	{448,3941},
	{446,3929},
	{444,3917},
	{439,3905},
	{434,3893},
	{428,3881},
	{428,3871},
	{428,3860},
	{431,3852},
	{431,3842},
	{432,3834},
	{436,3827},
	{439,3820},
	{442,3813},
	{443,3807},
	{448,3801},
	{448,3796},
	{456,3792},
	{462,3788},
	{471,3785},
	{477,3782},
	{490,3780},
	{504,3777},
	{521,3773},
	{538,3767},
	{557,3761},
	{578,3752},
	{600,3741},
	{625,3728},
	{659,3717},
	{693,3708},
	{736,3703},
	{794,3699},
	{868,3695},
	{961,3684},
	{1062,3653},
	{1174,3590},
	{1330,3481},
	{1716,3279}
};

/* T2 25C*/
R_PROFILE_STRUCT r_profile_t2[] = {
	{155,4385},
	{155,4364},
	{156,4345},
	{160,4327},
	{158,4307},
	{158,4288},
	{158,4269},
	{160,4250},
	{160,4231},
	{160,4213},
	{163,4195},
	{167,4176},
	{175,4159},
	{174,4141},
	{175,4123},
	{175,4105},
	{175,4089},
	{178,4076},
	{196,4066},
	{192,4043},
	{188,4014},
	{191,3994},
	{195,3982},
	{205,3974},
	{202,3962},
	{192,3946},
	{181,3928},
	{166,3909},
	{157,3893},
	{150,3879},
	{147,3868},
	{146,3858},
	{147,3849},
	{147,3840},
	{149,3832},
	{150,3826},
	{155,3819},
	{157,3813},
	{157,3806},
	{160,3801},
	{161,3796},
	{163,3792},
	{164,3787},
	{166,3782},
	{164,3777},
	{163,3773},
	{160,3767},
	{157,3761},
	{154,3753},
	{155,3746},
	{158,3734},
	{160,3720},
	{159,3703},
	{159,3697},
	{164,3694},
	{177,3693},
	{192,3691},
	{213,3686},
	{214,3645},
	{234,3563},
	{285,3433}
};

/* T3 50C*/
R_PROFILE_STRUCT r_profile_t3[] = {
	{96,4381},
	{96,4342},
	{98,4324},
	{98,4306},
	{98,4286},
	{98,4268},
	{99,4249},
	{99,4230},
	{99,4211},
	{104,4193},
	{104,4174},
	{106,4156},
	{106,4138},
	{107,4120},
	{109,4103},
	{112,4086},
	{110,4069},
	{113,4053},
	{115,4037},
	{116,4022},
	{119,4007},
	{121,3992},
	{127,3978},
	{130,3964},
	{133,3950},
	{132,3933},
	{119,3913},
	{107,3894},
	{103,3880},
	{99,3868},
	{99,3858},
	{101,3849},
	{102,3841},
	{102,3833},
	{107,3826},
	{109,3819},
	{108,3812},
	{112,3806},
	{115,3801},
	{115,3795},
	{116,3789},
	{115,3782},
	{109,3773},
	{106,3764},
	{107,3757},
	{107,3751},
	{106,3743},
	{104,3734},
	{105,3728},
	{106,3717},
	{104,3703},
	{102,3686},
	{101,3681},
	{107,3680},
	{112,3679},
	{112,3676},
	{112,3667},
	{118,3619},
	{137,3535},
	{175,3407},
	{493,3167}
};

/* r-table profile for actual temperature. The size should be the same as T1, T2 and T3*/
R_PROFILE_STRUCT r_profile_temperature[] = {
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0}
};

/* ============================================================
// function prototype
// ============================================================*/
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUCT_P fgauge_get_profile(unsigned int temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUCT_P fgauge_get_profile_r_table(unsigned int temperature);

#endif

